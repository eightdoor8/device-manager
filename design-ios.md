# Device Manager iOS アプリ - UI/UX デザイン

## 概要

Device Manager の iOS アプリは、Apple Human Interface Guidelines (HIG) に準拠した、ネイティブ iOS アプリのような体験を提供します。QA チームが端末を効率的に管理・貸出できるシンプルで直感的なインターフェースを実現します。

---

## デバイス仕様

- **対応デバイス**：iPhone 12 以上（iOS 14+）
- **画面向き**：ポートレート（縦向き）
- **操作方式**：片手操作を想定した親指ゾーン最適化

---

## スクリーン一覧

### 1. ログイン画面 (Authentication)
**目的**：ユーザー認証

**主要コンテンツ**：
- Device Manager ロゴ
- メールアドレス入力フィールド
- パスワード入力フィールド（マスク切り替え機能付き）
- ログインボタン
- エラーメッセージ表示エリア

**ユーザーフロー**：
1. メールアドレスを入力
2. パスワードを入力（目のアイコンでマスク切り替え）
3. 「ログイン」ボタンをタップ
4. 認証成功 → ホーム画面へ遷移
5. 認証失敗 → エラーメッセージ表示

**iOS 固有の設計**：
- キーボード自動表示
- Face ID / Touch ID 対応（将来実装）
- パスワード自動入力対応

---

### 2. ホーム画面 (Device List)
**目的**：登録済み端末の一覧表示・検索・フィルタ

**主要コンテンツ**：
- ナビゲーションバー（タイトル「デバイス」）
- 検索バー（虫眼鏡アイコン）
- フィルタボタン（ファネルアイコン）
- デバイスカード一覧
  - デバイス名
  - モデル名
  - ステータスバッジ（利用可/貸出中）
  - ユーザー情報（貸出中の場合）
- 「+ 登録」ボタン（右下フローティング）

**ユーザーフロー**：
1. ホーム画面を表示
2. デバイスカードをタップ → 詳細画面へ
3. 検索バーをタップ → 検索画面へ
4. フィルタボタンをタップ → フィルタモーダルを表示
5. 「+ 登録」ボタンをタップ → 登録画面へ

**iOS 固有の設計**：
- Pull-to-Refresh でデータ更新
- スワイプジェスチャで戻る
- Safe Area 対応（ノッチ・ホームインジケータ）
- Large Title ナビゲーション

---

### 3. デバイス詳細画面 (Device Detail)
**目的**：デバイス情報表示・貸出・返却操作

**主要コンテンツ**：
- ナビゲーションバー（戻るボタン）
- デバイス情報セクション
  - デバイス名
  - モデル名
  - OS バージョン
  - 登録日時
  - ステータス
  - 現在のユーザー（貸出中の場合）
- アクションボタン
  - 「借りる」ボタン（利用可の場合）
  - 「返す」ボタン（自分が借りている場合）
  - 「削除」ボタン（管理者のみ、利用可の場合）

**ユーザーフロー**：
1. ホーム画面からデバイスカードをタップ
2. 詳細画面を表示
3. 「借りる」をタップ → 確認ダイアログ表示 → 貸出処理
4. 「返す」をタップ → 確認ダイアログ表示 → 返却処理
5. 戻るボタンをタップ → ホーム画面へ戻る

**iOS 固有の設計**：
- スワイプバック ジェスチャ対応
- 確認ダイアログ（UIAlertController スタイル）
- ハプティックフィードバック（ボタンタップ時）

---

### 4. 端末登録画面 (Device Registration)
**目的**：新規デバイスの登録

**主要コンテンツ**：
- ナビゲーションバー（タイトル「端末を登録」）
- 自動検出情報セクション
  - デバイス名（自動取得）
  - モデル名（自動取得）
  - OS バージョン（自動取得）
  - UUID（自動取得）
- 手動入力フォーム
  - 貸出先（テキスト入力）
  - 用途（テキスト入力）
  - 備考（テキスト入力）
- 「登録」ボタン
- 必須項目表示（「必須」ラベル）

**ユーザーフロー**：
1. ホーム画面の「+ 登録」ボタンをタップ
2. 登録画面を表示
3. 自動検出情報を確認
4. 手動入力フォームに情報を入力
5. 「登録」ボタンをタップ
6. 登録成功 → ホーム画面へ戻る
7. 登録失敗 → エラーメッセージ表示

**iOS 固有の設計**：
- キーボード自動表示
- フォーム検証（リアルタイム）
- 必須項目の視覚的フィードバック（赤字・赤枠）

---

### 5. マイデバイス画面 (My Devices)
**目的**：ユーザーが借りているデバイスの表示

**主要コンテンツ**：
- ナビゲーションバー（タイトル「マイデバイス」）
- 借りているデバイスカード一覧
  - デバイス名
  - モデル名
  - 借りた日時
  - 「返す」ボタン

**ユーザーフロー**：
1. タブバーの「マイデバイス」をタップ
2. 自分が借りているデバイスを表示
3. デバイスカードをタップ → 詳細画面へ
4. 「返す」ボタンをタップ → 返却処理

**iOS 固有の設計**：
- 空状態表示（借りているデバイスがない場合）
- Pull-to-Refresh でデータ更新

---

### 6. プロフィール画面 (Profile)
**目的**：ユーザー情報表示・ログアウト

**主要コンテンツ**：
- ナビゲーションバー（タイトル「プロフィール」）
- ユーザー情報セクション
  - ユーザー名
  - メールアドレス
  - ユーザー権限（Admin / User）
- 「ログアウト」ボタン

**ユーザーフロー**：
1. タブバーの「プロフィール」をタップ
2. ユーザー情報を表示
3. 「ログアウト」ボタンをタップ → 確認ダイアログ表示
4. 確認 → ログイン画面へ遷移

**iOS 固有の設計**：
- ユーザー権限の視覚的表示（バッジ）
- 破壊的アクション（ログアウト）は赤色で表示

---

## ナビゲーション構造

```
TabBar Navigation
├── ホーム (Home)
│   ├── デバイス一覧
│   ├── 検索画面
│   ├── フィルタモーダル
│   ├── デバイス詳細
│   └── 登録画面
├── マイデバイス (My Devices)
│   └── デバイス詳細
└── プロフィール (Profile)
    └── ログアウト確認
```

---

## カラーパレット

**iOS Light Mode**：
- **Primary**：#007AFF（iOS Blue）
- **Text Primary**：#000000
- **Text Secondary**：#666666
- **Background**：#FFFFFF
- **Surface**：#F5F5F5
- **Success**：#34C759（iOS Green）
- **Warning**：#FF9500（iOS Orange）
- **Error**：#FF3B30（iOS Red）

**iOS Dark Mode**：
- **Primary**：#0A84FF（iOS Blue - Dark）
- **Text Primary**：#FFFFFF
- **Text Secondary**：#999999
- **Background**：#000000
- **Surface**：#1C1C1E
- **Success**：#30B0C0（iOS Green - Dark）
- **Warning**：#FF9500（iOS Orange）
- **Error**：#FF453A（iOS Red - Dark）

---

## タイポグラフィ

| 用途 | サイズ | ウェイト | 行高 |
|------|--------|---------|------|
| Large Title | 34pt | Bold | 41pt |
| Title 1 | 28pt | Bold | 34pt |
| Title 2 | 22pt | Bold | 28pt |
| Title 3 | 20pt | Semibold | 25pt |
| Headline | 17pt | Semibold | 22pt |
| Body | 17pt | Regular | 22pt |
| Callout | 16pt | Regular | 21pt |
| Subheadline | 15pt | Regular | 20pt |
| Caption 1 | 13pt | Regular | 18pt |
| Caption 2 | 11pt | Regular | 14pt |

---

## スペーシング

iOS では 8pt グリッドシステムを採用：

| 用途 | サイズ |
|------|--------|
| Compact | 8pt |
| Small | 12pt |
| Medium | 16pt |
| Large | 24pt |
| XLarge | 32pt |

---

## コーナー半径

| 用途 | 半径 |
|------|------|
| Button | 8pt |
| Card | 12pt |
| Modal | 16pt |
| Sheet | 20pt |

---

## ボタンスタイル

### Primary Button
- 背景色：#007AFF
- テキスト色：#FFFFFF
- 高さ：44pt（最小タッチサイズ）
- コーナー半径：8pt
- フォント：Headline (17pt Semibold)

### Secondary Button
- 背景色：#F5F5F5
- テキスト色：#007AFF
- 高さ：44pt
- コーナー半径：8pt
- フォント：Headline (17pt Semibold)

### Destructive Button
- 背景色：#FF3B30
- テキスト色：#FFFFFF
- 高さ：44pt
- コーナー半径：8pt
- フォント：Headline (17pt Semibold)

---

## ステータスバッジ

| ステータス | 背景色 | テキスト色 | ラベル |
|-----------|--------|----------|--------|
| 利用可 | #34C759 | #FFFFFF | Available |
| 貸出中 | #FF9500 | #FFFFFF | In Use |
| 保守中 | #A2845E | #FFFFFF | Maintenance |

---

## キー UI パターン

### 1. Pull-to-Refresh
- ホーム画面でデータ更新
- 回転アニメーション表示
- 更新完了時にスナップバック

### 2. 確認ダイアログ
- 破壊的操作（削除・返却）時に表示
- 「キャンセル」「確認」の 2 ボタン
- 確認ボタンは赤色（破壊的アクション）

### 3. エラーメッセージ
- トースト通知（画面下部）
- 3 秒後に自動消去
- 赤色背景で視認性確保

### 4. ローディング表示
- ActivityIndicator（中央）
- 透明背景のオーバーレイ
- キャンセル不可

### 5. 空状態表示
- イラスト + テキスト
- 「データがありません」メッセージ
- アクションボタン（例：「登録する」）

---

## ハプティックフィードバック

| アクション | フィードバック |
|-----------|----------------|
| ボタンタップ | Light Impact |
| 成功操作 | Success Notification |
| エラー | Error Notification |
| 警告 | Warning Notification |

---

## アニメーション

| 要素 | 効果 | 時間 |
|------|------|------|
| 画面遷移 | スライド（左から右） | 300ms |
| モーダル表示 | スライドアップ | 300ms |
| ボタンタップ | スケール (0.95) | 100ms |
| ローディング | 回転 | 無限 |

---

## Safe Area 対応

- **Top**：ノッチ・Dynamic Island 対応
- **Bottom**：ホームインジケータ対応
- **Left/Right**：サイドノッチ対応（iPad Pro）

すべてのコンテンツは Safe Area 内に配置します。

---

## アクセシビリティ

- **最小タッチサイズ**：44pt × 44pt
- **コントラスト比**：WCAG AA 以上
- **VoiceOver 対応**：すべてのインタラクティブ要素にラベル付け
- **フォントサイズ**：Dynamic Type 対応（最小 14pt）

---

## 実装上の注意点

1. **iOS 固有の UI**：UIKit / SwiftUI の標準コンポーネントを活用
2. **ダークモード**：Light/Dark Mode 両対応
3. **多言語対応**：日本語・英語対応
4. **パフォーマンス**：リスト表示は FlatList を使用
5. **セキュリティ**：認証トークンはキーチェーンに保存（将来実装）

---

## 開発ロードマップ

| フェーズ | 内容 | 期間 |
|---------|------|------|
| Phase 1 | ログイン・ホーム画面 | 1 週間 |
| Phase 2 | デバイス詳細・登録画面 | 1 週間 |
| Phase 3 | マイデバイス・プロフィール | 3 日 |
| Phase 4 | iOS 固有機能・最適化 | 1 週間 |
| Phase 5 | テスト・バグ修正 | 1 週間 |
| Phase 6 | TestFlight・App Store 準備 | 1 週間 |
